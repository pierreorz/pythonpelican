<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh">
  <head>
    <title>Blog - 邓德昭的技术博客</title>
    <link href="http://fonts.googleapis.com/css?family=Arimo:400,700|Inika" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" type="text/css" href="http://pelican.dengdezhao.cn/theme/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="http://pelican.dengdezhao.cn/theme/pastie.css" />
    <link href="http://pelican.dengdezhao.cn/" type="application/atom+xml" rel="alternate" title="邓德昭的技术博客 Atom Feed" />


  </head>

  <body>
    <div class="container">
      <div class="row">
        <div class="span8">
<div id="content">
<h2>Articles in the oracle category</h2>

<ul class="unstyled">
        <li>
            <div>
                <div class="header">
                    <h2>"由意外断电导致oracle11g启动不起来的问题解决"</h2>
                </div>
                <p class="meta"><small><span><a href="http://pelican.dengdezhao.cn/author/pierreorz/">pierreorz</a> - </span><span>Sat 09 November 2013</span> - <span class="tags"><a href="/tag/oracle/">oracle</a></span></small></p>
                <div class="entry-content">
                    <ul>
<li>
<p>平台: linux + oracle 11g    </p>
</li>
<li>
<p>故障: 意外断电之后，监听启动不了</p>
</li>
</ul>
<h4>解决方法</h4>
<p>执行<code>lsnrctrl start</code>命令时报错误代码如下： </p>
<p><code>TNS-12537</code>  <br />
<code>TNS-12560</code>  <br />
<code>TNS-00507</code>  <br />
<code>Linux Error:29</code>    </p>
<ul>
<li>
<p>检查/etc/hosts文件，没有发现异常。    </p>
</li>
<li>
<dl>
<dt>因为未改动任何配置文件，所以基本可以确定是断电造成文件损坏而引起。于是使用<code>relink all</code>看看能否解决该问题。</dt>
<dt>{% codeblock lang:java %}</dt>
<dt># cd $ORACLE_HOME/bin</dt>
<dt># relink all</dt>
<dt>{% endcodeblock %}</dt>
<dt>执行<code>relink all</code>命令之后，再执行<code>lsnrctrl start</code>时，发现不报之前的错误了，出现了新的错误：</dt>
<dt>{% codeblock lang:java …</dt></dl></li></ul>
                </div><!-- /.entry-content -->
                <div class="row">
                    <div class="span4">
                    </div>
                    <div class="span1 offset3">
                        <a class="btn btn-small" href="http://pelican.dengdezhao.cn/you-yi-wai-duan-dian-dao-zhi-oracle11gqi-dong-bu-qi-lai-de-wen-ti-jie-jue.html" rel="bookmark" title="Permalink to "由意外断电导致oracle11g启动不起来的问题解决"">Mehr</a>
                    </div>
                </div>
            </div>
        </li>

        <li><hr /></li>
        <li>
            <div>
                <div class="header">
                    <h2>ORA-1222：TNS:no such protocol adapter  问题解决</h2>
                </div>
                <p class="meta"><small><span><a href="http://pelican.dengdezhao.cn/author/pierreorz/">pierreorz</a> - </span><span>Mon 03 December 2012</span> - <span class="tags"><a href="/tag/ora-1222/">ora-1222</a></span></small></p>
                <div class="entry-content">
                    <p>机器上安装的是instantOracleclient-basic-win32-11.2.0.1.0客户端，本来使用PLSQL developer是可以正常连接数据库的；</p>

<p>后来开发需求装上了Form6<em>i，</em>发现连接数据库时弹出来ORA-1222：TNS:no such protocol adapter这个错误；</p>

<p>解决方案：</p>

<p><strong>1.配置PL/SQL Developer -&gt; Preferences ，OracleHome设置为Form6i的路径；</strong></p>

<p><strong>2.我的电脑 -&gt; 用户变量 设置ORACLE_HOME 为Form6i路径</strong></p>

<p><strong>或者可以直接编辑注册表，修改oracle_home的值为[Form安装的HOME文件夹]/[oracle客户端文件夹]；</strong></p>

<p><strong>如果需要切换按以上步骤修改oracle_home再重启PLSQL Developer即可以正常连接数据库；
</strong></p>

<p><em>
</em></p>
                </div><!-- /.entry-content -->
                <div class="row">
                    <div class="span4">
                    </div>
                    <div class="span1 offset3">
                        <a class="btn btn-small" href="http://pelican.dengdezhao.cn/ora-1222tnsno-such-protocol-adapter-wen-ti-jie-jue.html" rel="bookmark" title="Permalink to ORA-1222：TNS:no such protocol adapter 问题解决">Mehr</a>
                    </div>
                </div>
            </div>
        </li>

        <li><hr /></li>
        <li>
            <div>
                <div class="header">
                    <h2>使用VPD对数据进行隔离</h2>
                </div>
                <p class="meta"><small><span><a href="http://pelican.dengdezhao.cn/author/pierreorz/">pierreorz</a> - </span><span>Thu 28 June 2012</span> - <span class="tags"><a href="/tag/VPD/">VPD</a></span></small></p>
                <div class="entry-content">
                    <p>项目需求：系统数据表删除操作是直接物理删除，不利于维护历史记录，需要变更为逻辑删除模式。</p>

<p>解决方案：</p>

<p>对表增加删除标记字段DEL_FLAG varchar2(1) default ‘0’;</p>

<p>用户执行“删除”操作时，并不执行物理删除操作，而是将DEL_FLAG值设置为‘1’；</p>

<p>针对数据展示时，删除标记为’1’的数据使用VPD技术屏蔽访问；</p>

<p><strong>1．需要修改的基表[T]新增删除字段：</strong></p>

<p><strong>alter table</strong> T <strong>add</strong> (DEL_FLAG varchar2(1) <strong>default</strong> '0');--缺省为0，逻辑删除改为1</p>

<p><strong>2．创建VPD需要的函数：</strong><strong>f_limited_query_t</strong><strong></strong></p>

<p><strong>CREATE OR REPLACE FUNCTION</strong> f_limited_query_t (s_schema <strong>IN</strong> VARCHAR2,</p>

<p>s_object <strong>IN</strong> VARCHAR2)</p>

<p><strong>RETURN …</strong></p>
                </div><!-- /.entry-content -->
                <div class="row">
                    <div class="span4">
                    </div>
                    <div class="span1 offset3">
                        <a class="btn btn-small" href="http://pelican.dengdezhao.cn/shi-yong-vpddui-shu-ju-jin-xing-ge-chi.html" rel="bookmark" title="Permalink to 使用VPD对数据进行隔离">Mehr</a>
                    </div>
                </div>
            </div>
        </li>

        <li><hr /></li>
        <li>
            <div>
                <div class="header">
                    <h2>oracle 11g 数据库安装后改计算机名出现无法连接的问题解决</h2>
                </div>
                <p class="meta"><small><span><a href="http://pelican.dengdezhao.cn/author/pierreorz/">pierreorz</a> - </span><span>Fri 15 July 2011</span> - <span class="tags"><a href="/tag/oracle/">oracle</a></span></small></p>
                <div class="entry-content">
                    <p>在局域网内一台机器上安装完oracle11g之后，本地测试OK 可以访问orcl。用局域网内另一台机器连接的时候不行。<br />
两台机器可以PING通。<br />
修改tnsname.ora  把默认的localhost 都改成了本机IP 试试还是不行。<br />
然后改了下计算机名，各种测试，打开EM还是只看到实例正常，监听程序为状态为不可用，实例的代理连接状态为不可用。<br />
很是蛋疼，手贱不应该改计算机名啊。。。<br />
想想多有可能要改的都改好了。。。怎么还是连不上？<br />
是不是刚改好的还没有生效？<br />
lsnrctl stop<br />
lsnrctl start<br />
各种重启服务之后，终于见到了全绿~~~</p>
                </div><!-- /.entry-content -->
                <div class="row">
                    <div class="span4">
                    </div>
                    <div class="span1 offset3">
                        <a class="btn btn-small" href="http://pelican.dengdezhao.cn/oracle-11g-shu-ju-ku-an-zhuang-hou-gai-ji-suan-ji-ming-chu-xian-wu-fa-lian-jie-de-wen-ti-jie-jue.html" rel="bookmark" title="Permalink to oracle 11g 数据库安装后改计算机名出现无法连接的问题解决">Mehr</a>
                    </div>
                </div>
            </div>
        </li>

        <li><hr /></li>
</ul><!-- /#posts-list -->

<div class="pagination pagination-centered">
    <ul>
        <li class="active"><a href="#">1</a></li>
    </ul>
</div>
</div><!-- /#content -->
        </div>
        <div class="span3 offset1">
          <div class="well">
            <ul class="nav nav-list">
              <li class="nav-header">Blog</li>
              <li ><a href="http://pelican.dengdezhao.cn">Index</a></li>
              <li ><a href="http://pelican.dengdezhao.cn/tags/">Tags</a></li>
              <li ><a href="http://pelican.dengdezhao.cn/archives/">Archiv</a></li>
              <li class="nav-header">Links</li>
              <li><a href="http://getpelican.com/">Pelican</a></li>
              <li><a href="http://python.org/">Python.org</a></li>
              <li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
              <li><a href="#">You can modify those links in your config file</a></li>
            </ul>
          </div><!-- /#menu -->
        </div>
      </div>

      <hr />

      <div class="row">
        <div class="span12">
          <div id="about">
            <p>Proudly powered by <a href="http://twitter.github.com/bootstrap/">bootstrap</a>, <a href="http://docs.notmyidea.org/alexis/pelican/">pelican</a>, <a href="http://python.org">python</a> and <a href="http://www.julo.ch/about/">Alex</a>!</p>
          </div><!-- /#about -->
        </div><!-- /#contentinfo -->
      </div>
    </div>


  </body>
</html>