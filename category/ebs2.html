<!DOCTYPE html>
<html lang="en">
<head>
        <title>dengdezhao - ebs</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="http://pelican.dengdezhao.cn/theme/css/main.css" type="text/css" />
        <link href="http://pelican.dengdezhao.cn/None" type="application/atom+xml" rel="alternate" title="dengdezhao ATOM Feed" />

        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="http://pelican.dengdezhao.cn/css/ie.css"/>
                <script src="http://pelican.dengdezhao.cn/js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="http://pelican.dengdezhao.cn/css/ie6.css"/><![endif]-->

</head>

<body>
        
        

            <header>
                <h1><a href="http://pelican.dengdezhao.cn" id="site-title">dengdezhao </a> : <a href="http://pelican.dengdezhao.cn/oafge-xing-hua-buttonhuo-qu-ye-mian-can-shu.html" id="page-title">"OAF个性化Button获取页面参数"</a></h1>
<time datetime="2014-06-03T00:00:00+08:00">2014-06-03(Tuesday) 00:00</time>            </header>

            <article>
                <ul>
<li>平台: R12    </li>
<li>需求: 需要个性化一个button的Destination URI属性，并添附上一个参数。</li>
</ul>
<p>实现方法：</p>
<ol>
<li>
<p>本来重写CO便很容易实现该需求，但是涉及到修改代码以及各个环境更新就很麻烦了，所以如果个性化button的URL是最方便了。</p>
</li>
<li>
<p>个性化又涉及到如何在URL里传递参数的问题。  </p>
</li>
</ol>
<p>右键当前页面，查看源代码如下：      </p>
<div class="highlight"><pre><span></span>&lt;form id=&quot;DefaultFormName&quot; name=&quot;DefaultFormName&quot; style=&quot;margin:0px&quot; method=&quot;POST&quot;          action=&quot;/OA_HTML/OA.jsp?page=/oracle/apps/pa/deliverable/webui/CrUpDeliverablePG&amp;paCallingPage=DLVLIST&amp;paCallingMode=VIEW&amp;paProjectId=106691&amp;paDeliverableId=113287&amp;paDlvrItemId=106962&amp;&amp;addBreadCrumb=RP&amp;_ti=1696581738&amp;PersonalizationParam=PersonalizationParamAdmin&amp;retainAM=Y&amp;oapc=28&quot;&gt;
</pre></div>


<p>需要将当前页面中form标签的action属性中的paDlvrItemId参数的值获取过来。拼接成形如:http://dengdezhao.cn?erpid={:paDlvrItemId}形式的URL赋给button的destinationURI属性。</p>
<ol>
<li>
<p>使用{@itemName}这种方式只能在table控件中才行，在此处不适用。因此考虑使用JS查找当前页面获取到参数然后拼接形成URL。</p>
<div class="highlight"><pre><span></span>http://192.168.15.141/login/LoginSSO.jsp?flowCode=AM02&amp;erpid=&#39;+unescape(document.DefaultFormName.action.match(new RegExp(&quot;(^|&amp;)&quot; + &#39;paDlvrItemId&#39; + &quot;=([^&amp;]*)(&amp;|$)&quot;, &quot;i&quot;))[2])+&#39;&amp;workcode=&#39; + document.getElementById(&#39;AdditionalInfo&#39;).rows[4].cells[1].innerText + &#39;
</pre></div>


</li>
<li>
<p>将以上URL个性化赋值给button即可满足需求。</p>
</li>
</ol>            </article>
                <section id="article-list">
                    <h2>All posts</h2>
                    <ol>
        

 
            <li><a href="http://pelican.dengdezhao.cn/oafzhong-chuang-jian-lov.html" rel="bookmark" title="Permalink to "OAF中创建LOV"">"OAF中创建LOV"</a></li>
        

 
            <li><a href="http://pelican.dengdezhao.cn/pei-zhi-oafkai-fa-huan-jing.html" rel="bookmark" title="Permalink to "配置OAF开发环境"">"配置OAF开发环境"</a></li>
        

 
            <li><a href="http://pelican.dengdezhao.cn/oafshang-chuan-da-pi-liang-excelwen-jian.html" rel="bookmark" title="Permalink to "OAF上传大批量EXCEL文件"">"OAF上传大批量EXCEL文件"</a></li>
        

 
            <li><a href="http://pelican.dengdezhao.cn/oafdan-xuan-shan-chu-xing-gong-neng.html" rel="bookmark" title="Permalink to "OAF单选删除行功能"">"OAF单选删除行功能"</a></li>
        

 
            <li><a href="http://pelican.dengdezhao.cn/use-javascript-in-oaf.html" rel="bookmark" title="Permalink to Use Javascript in OAF">Use Javascript in OAF</a></li>
        

 
            <li><a href="http://pelican.dengdezhao.cn/xu-ni-ji-huan-jing-rhel63an-zhuang-ebs-r12.html" rel="bookmark" title="Permalink to 虚拟机环境RHEL6.3安装EBS R12">虚拟机环境RHEL6.3安装EBS R12</a></li>
        

 
            <li><a href="http://pelican.dengdezhao.cn/xu-ni-ji-an-zhuang-ebs-r12shi-chu-xian-cuo-wu-rw-50004-jie-jue.html" rel="bookmark" title="Permalink to 虚拟机安装EBS R12时出现错误RW-50004 解决">虚拟机安装EBS R12时出现错误RW-50004 解决</a></li>
        

 
            <li><a href="http://pelican.dengdezhao.cn/oafkai-fa-tong-guo-exceldao-ru-shu-ju-shi-yong-hu-xu-yao-jiang-ke-neng-cun-zai-zhong-fu-de-zhu-jian-xin-xi-ti-shi-chu-lai.html" rel="bookmark" title="Permalink to OAF开发通过EXCEL导入数据时，用户需要将可能存在重复的主键信息提示出来">OAF开发通过EXCEL导入数据时，用户需要将可能存在重复的主键信息提示出来</a></li>
        

 
            <li><a href="http://pelican.dengdezhao.cn/oaf-shi-yong-oaexceptionshu-chu-zhong-wen-shi-chu-xian-luan-ma-jie-jue.html" rel="bookmark" title="Permalink to OAF 使用OAException输出中文时出现乱码 解决">OAF 使用OAException输出中文时出现乱码 解决</a></li>
        

 
            <li><a href="http://pelican.dengdezhao.cn/ebs-bing-fa-qing-qiu-diao-yong-sqlshi-ri-zhi-gen-shu-chu-zhong-wen-chu-xian-luan-ma-wen-ti.html" rel="bookmark" title="Permalink to EBS 并发请求调用SQL时，日志跟输出中文出现乱码问题">EBS 并发请求调用SQL时，日志跟输出中文出现乱码问题</a></li>
        

 
            <li><a href="http://pelican.dengdezhao.cn/ebsbing-fa-qing-qiu-diao-yong-oracle-reportsshi-ru-he-xie-ru-ri-zhi-wen-jian.html" rel="bookmark" title="Permalink to EBS并发请求调用Oracle reports时，如何写入日志文件">EBS并发请求调用Oracle reports时，如何写入日志文件</a></li>
        

 
            <li><a href="http://pelican.dengdezhao.cn/ebsqing-qiu-zhi-xing-shi-pao-chu-cuo-wu-ora-20100he-ora-06512-wen-ti-jie-jue.html" rel="bookmark" title="Permalink to EBS请求执行时抛出错误Ora-20100和Ora-06512 问题解决">EBS请求执行时抛出错误Ora-20100和Ora-06512 问题解决</a></li>
    </ol>
    </section><!-- #article-list -->

        <footer>
            <nav>
                <ul>
                    <li>:: <a href="http://pelican.dengdezhao.cn/categories.html">Categories</a></li>
                    <li>:: <a href="http://pelican.dengdezhao.cn/tags.html">Tags</a></li>
                </ul>
            </nav>
                <p id="theme-credit"><a href="http://mathieu.agopian.info/mnmlist/theme.html">Thème mnmlist</a></p>
        </footer>

</body>
</html>