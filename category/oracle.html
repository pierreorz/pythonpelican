<!DOCTYPE html>
<html lang="en">
<head>
        <title>dengdezhao - oracle</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="http://pelican.dengdezhao.cn/theme/css/main.css" type="text/css" />
        <link href="http://pelican.dengdezhao.cn/None" type="application/atom+xml" rel="alternate" title="dengdezhao ATOM Feed" />

        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="http://pelican.dengdezhao.cn/css/ie.css"/>
                <script src="http://pelican.dengdezhao.cn/js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="http://pelican.dengdezhao.cn/css/ie6.css"/><![endif]-->

</head>

<body>
        
        

            <header>
                <h1><a href="http://pelican.dengdezhao.cn" id="site-title">dengdezhao </a> : <a href="http://pelican.dengdezhao.cn/you-yi-wai-duan-dian-dao-zhi-oracle11gqi-dong-bu-qi-lai-de-wen-ti-jie-jue.html" id="page-title">"由意外断电导致oracle11g启动不起来的问题解决"</a></h1>
<time datetime="2013-11-09T00:00:00+08:00">2013-11-09(Saturday) 00:00</time>            </header>

            <article>
                <ul>
<li>
<p>平台: linux + oracle 11g    </p>
</li>
<li>
<p>故障: 意外断电之后，监听启动不了</p>
</li>
</ul>
<h4>解决方法</h4>
<p>执行<code>lsnrctrl start</code>命令时报错误代码如下： </p>
<p><code>TNS-12537</code>  <br />
<code>TNS-12560</code>  <br />
<code>TNS-00507</code>  <br />
<code>Linux Error:29</code>    </p>
<ul>
<li>
<p>检查/etc/hosts文件，没有发现异常。    </p>
</li>
<li>
<dl>
<dt>因为未改动任何配置文件，所以基本可以确定是断电造成文件损坏而引起。于是使用<code>relink all</code>看看能否解决该问题。</dt>
<dt>{% codeblock lang:java %}</dt>
<dt># cd $ORACLE_HOME/bin</dt>
<dt># relink all</dt>
<dt>{% endcodeblock %}</dt>
<dt>执行<code>relink all</code>命令之后，再执行<code>lsnrctrl start</code>时，发现不报之前的错误了，出现了新的错误：</dt>
<dt>{% codeblock lang:java %}</dt>
<dt>symbol lookup error: $ORACLE_HOME/lib/libclntsh.so.11.1</dt>
<dd _="%" endcodeblock="endcodeblock">undefined symbol: nnftboot</dd>
</dl>
</li>
<li>
<p>看来是这个libclntsh.so.11.1出了问题，于是尝试去下载该文件替换掉。   </p>
</li>
<li>
<p>从RPM search网站上下载到oracle-instance-client的RPM文件到本地。</p>
</li>
<li>
<p>使用rpm2cpio命令抽取出里面的libclntsh.so.11.1</p>
</li>
</ul>
<p>{% codeblock lang:java %}     </p>
<h1>rpm2cpio oracle-instance-client-xxx.rpm | cpio -div</h1>
<p>{% endcodeblock %}</p>
<ul>
<li>将得到的libclntsh.so.11.1文件替换掉$ORACLE_HOME/lib下的重名文件即可。    </li>
</ul>            </article>
                <section id="article-list">
                    <h2>All posts</h2>
                    <ol>
        

 
            <li><a href="http://pelican.dengdezhao.cn/ora-1222tnsno-such-protocol-adapter-wen-ti-jie-jue.html" rel="bookmark" title="Permalink to ORA-1222：TNS:no such protocol adapter 问题解决">ORA-1222：TNS:no such protocol adapter  问题解决</a></li>
        

 
            <li><a href="http://pelican.dengdezhao.cn/shi-yong-vpddui-shu-ju-jin-xing-ge-chi.html" rel="bookmark" title="Permalink to 使用VPD对数据进行隔离">使用VPD对数据进行隔离</a></li>
        

 
            <li><a href="http://pelican.dengdezhao.cn/oracle-11g-shu-ju-ku-an-zhuang-hou-gai-ji-suan-ji-ming-chu-xian-wu-fa-lian-jie-de-wen-ti-jie-jue.html" rel="bookmark" title="Permalink to oracle 11g 数据库安装后改计算机名出现无法连接的问题解决">oracle 11g 数据库安装后改计算机名出现无法连接的问题解决</a></li>
    </ol>
    </section><!-- #article-list -->

        <footer>
            <nav>
                <ul>
                    <li>:: <a href="http://pelican.dengdezhao.cn/categories.html">Categories</a></li>
                    <li>:: <a href="http://pelican.dengdezhao.cn/tags.html">Tags</a></li>
                </ul>
            </nav>
                <p id="theme-credit"><a href="http://mathieu.agopian.info/mnmlist/theme.html">Thème mnmlist</a></p>
        </footer>

</body>
</html>