<!DOCTYPE html>
<html lang="en">
<head>
        <title>dengdezhao - iterator</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="http://pelican.dengdezhao.cn/theme/css/main.css" type="text/css" />
        <link href="http://pelican.dengdezhao.cn/None" type="application/atom+xml" rel="alternate" title="dengdezhao ATOM Feed" />

        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="http://pelican.dengdezhao.cn/css/ie.css"/>
                <script src="http://pelican.dengdezhao.cn/js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="http://pelican.dengdezhao.cn/css/ie6.css"/><![endif]-->

</head>

<body>
        
        

            <header>
                <h1><a href="http://pelican.dengdezhao.cn" id="site-title">dengdezhao </a> : <a href="http://pelican.dengdezhao.cn/kong-jian-afiteratoryi-ji-afforeachde-dui-bi.html" id="page-title">"控件af:iterator以及af:forEach的对比"</a></h1>
<time datetime="2013-09-23T00:00:00+08:00">2013-09-23(Monday) 00:00</time>            </header>

            <article>
                <ul>
<li>
<p>平台:Jdeveloper 12c</p>
</li>
<li>
<p>需求：对Collection类型遍历。MB中定义两个List，如何利用iterator&amp;foreach控件将List内容显示到页面。</p>
</li>
</ul>
<p><strong>页面如下</strong></p>
<p>分别绑定iterBean中的两个集合类型变量，将其中的值取出来。</p>
<p _="%" endcodeblock="endcodeblock">{% codeblock lang:java %}
<af:iterator id="i1" var="each" value="#{iterBean.list}" varStatus="row">
    <af:panelBox text="#{each}" id="pb1">
        <f:facet name="toolbar"/>
        <af:inputText label="Values" id="it1" value="#{iterBean.values[row.index]}"/>
    </af:panelBox>
</af:iterator>
<af:forEach items="#{iterBean.testList}"  var="each" varStatus="row">
  <af:panelBox text="#{each.title}" id="pb2">
    <af:outputText value="#{row.index} #{each.title}" id="ot1"/>
    </af:panelBox>
</af:forEach></p>
<p><strong>BackingBean内容如下：</strong></p>
<p>{% codeblock lang:java %}
package cn.dengdezhao;
import java.util.ArrayList;
import java.util.List;
public class IteratorBean {
    List list = new ArrayList();
    String[] values=new String[]{"1","2","3"};
    List<contentList> testList=new ArrayList<contentList>();</p>
<div class="highlight"><pre><span></span>public void setTestList(List&lt;contentList&gt; testList) {
    System.out.println(&quot;setTestList...&quot;);
    this.testList = testList;
}
public List&lt;contentList&gt; getTestList() {
    System.out.println(&quot;getTestList...&quot;);

    return testList;
}
public void setValues(String[] values) {
    this.values = values;
}
public String[] getValues() {
    return values;
}
public IteratorBean(){
    list.add(&quot;A&quot;);
    list.add(&quot;B&quot;);
    list.add(&quot;C&quot;);
    contentList a=new contentList();
    a.setTitle(&quot;aaa&quot;);
    testList.add(a);
    contentList b=new contentList();
    b.setTitle(&quot;bbb&quot;);
    testList.add(b);
    contentList c=new contentList();
    c.setTitle(&quot;ccc&quot;);
    testList.add(c);
    System.out.println(&quot;init...&quot;);
}
public void setList(List list) {
    System.out.println(&quot;setList ...&quot;);
    this.list = list;
}
public List getList() {
    System.out.println(&quot;getList...&quot;);
    return list;
}
</pre></div>


<p>}</p>
<p>public class contentList {
    private String title;</p>
<div class="highlight"><pre><span></span>public void setTitle(String title) {
    this.title = title;
}

public String getTitle() {
    return title;
}
</pre></div>


<p _="%" endcodeblock="endcodeblock">}</p>
<p><strong>测试结果</strong></p>
<p><af:iterator>只调用了一次get方法；
<af:forEach>却调用了9次get方法（根据容器中数量递增）；</p>
<p><strong>结论</strong></p>
<p><af:iterator>跟<af:forEach>控件都可以对容器类型遍历，只不过iterator是一次性取出容器内容，而forEach是多次取出。两控件都支持下标定位。</p>            </article>

        <footer>
            <nav>
                <ul>
                    <li>:: <a href="http://pelican.dengdezhao.cn/categories.html">Categories</a></li>
                    <li>:: <a href="http://pelican.dengdezhao.cn/tags.html">Tags</a></li>
                </ul>
            </nav>
                <p id="theme-credit"><a href="http://mathieu.agopian.info/mnmlist/theme.html">Thème mnmlist</a></p>
        </footer>

</body>
</html>